---
name: tiktok-script-generator
description: Generates 3 TikTok short video scripts (30-40s) for product campaigns with comprehensive campaign summary. Uses proven "Golden 3 Seconds" hook patterns for German market. Analyzes reference videos, product data, and images (comprehensive bilingual format with inline translations via async Gemini CLI MCP + OUTPUT VALIDATION). Creates bilingual (DE/ZH) scripts with category-specific compliance. Optimized for parallel batch workflows. INCLUDES MANDATORY STEPS (validated bilingual image analysis with Visual Hooks section, Campaign Summary, Final Quality Gate) with explicit batch execution checklist and quality verification to prevent incomplete deliverables.
version: 1.5.0
author: Claude
---

# TikTok Script Generator Skill

Generates 3 production-ready TikTok ad scripts based on reference video analysis, product data, visual analysis, and official product descriptions.

## Overview

**Input:** Product ID + Category
**Output:** 3 distinct angle scripts (30-40s each) + Campaign Summary in `shorts_scripts/{product_id}/`

**Key Features:**
- **Golden 3 Seconds Hook Patterns:** 8 proven opening strategies for German TikTok
- Multi-source analysis (videos, data, images, official description)
- Category-specific compliance verification
- Bilingual output (German + Chinese translation)
- ElevenLabs v3 (alpha) grammar formatting
- Visual hook integration from packaging
- 3 different marketing angles per product
- Comprehensive campaign summary with performance predictions

---

## Workflow Steps

**Complete workflow (11 steps):**

1. **Gather Source Materials** - Collect all reference files
2. **Product Image Analysis** âš ï¸ **MANDATORY IF IMAGES EXIST** - Analyze using async Gemini CLI MCP
3. **Official Description Verification** - Cross-reference product claims
4. **Determine Product Category** - Identify compliance rules
5. **Script Angle Planning** - Map 3 distinct marketing angles
5.5. **Golden 3 Seconds Hook Selection** - Choose proven hook patterns
6. **Script Writing** - Create 3 scripts with templates
7. **ElevenLabs v3 Grammar** - Format voiceover cues
8. **Bilingual Translation** - Add Chinese (ZH) versions
9. **Compliance Verification** - Check category-specific rules
10. **Campaign Summary Creation** âš ï¸ **MANDATORY** - Comprehensive campaign overview
11. **Final Quality Gate** âš ï¸ **MANDATORY** - Verification checkpoint

**ğŸš¨ CRITICAL MANDATORY STEPS (Cannot be skipped):**
- **Step 2:** Image analysis (if `product_images/` folder exists with images)
- **Step 10:** Campaign Summary creation
- **Step 11:** Final Quality Gate verification

**âš ï¸ BATCH EXECUTION WARNING:**
When processing multiple products in batch mode, these mandatory steps are frequently missed. You MUST explicitly verify before marking any product complete:
- [ ] Image analysis completed (if images exist)
- [ ] Campaign Summary created
- [ ] Final Quality Gate passed

---

## Batch Execution Checklist (CRITICAL)

When processing multiple products from `products.csv` or a batch list:

### Pre-Execution Setup
```bash
# Verify all products have required source materials
for product_id in {list}; do
  echo "=== Checking $product_id ==="
  ls -lh product_list/$product_id/
  # Must have: tabcut_data.md or fastmoss_data.json
  # Optional: video_analysis.md, product_images/, ref_video/
done
```

### Per-Product Execution Order

**For EACH product, execute ALL 11 steps in sequence:**

1. âœ… Gather source materials
2. âš ï¸ **STOP:** Check if `product_images/` exists and has files
   - **IF YES:** Run async Gemini CLI MCP image analysis â†’ Save to `image_analysis.md`
   - **IF NO:** Skip to Step 3
3. âœ… Verify official description
4. âœ… Determine category
5. âœ… Plan 3 angles
5.5. âœ… Select Golden 3 Seconds hooks
6. âœ… Write 3 scripts
7. âœ… Format ElevenLabs v3 grammar
8. âœ… Add bilingual (DE/ZH)
9. âœ… Verify compliance
10. âš ï¸ **MANDATORY:** Create Campaign Summary
11. âš ï¸ **MANDATORY:** Run Final Quality Gate verification

**ğŸ›‘ DO NOT proceed to next product until Step 11 PASSES for current product.**

### Common Batch Failure Modes

**âŒ Mistake 1: Skipping image analysis**
- **Why it happens:** Rushing to script writing
- **Fix:** Add explicit check at Step 2 - if images exist, MUST analyze

**âŒ Mistake 2: Forgetting Campaign Summary**
- **Why it happens:** Scripts feel "complete" without it
- **Fix:** Step 10 is NOT optional - always create Campaign_Summary.md

**âŒ Mistake 3: Skipping Final Quality Gate**
- **Why it happens:** Assuming scripts are correct
- **Fix:** ALWAYS run Step 11 verification commands before marking complete

**âŒ Mistake 4: Batch processing too fast**
- **Why it happens:** Trying to parallelize steps that must be sequential
- **Fix:** Complete ALL 11 steps for Product A before starting Product B

### Batch Verification Command

After processing N products, verify completeness:

```bash
# Run this after completing batch
for product_id in {list}; do
  echo "=== Verifying $product_id ==="

  # Check scripts folder exists
  if [ ! -d "shorts_scripts/$product_id" ]; then
    echo "âŒ MISSING: shorts_scripts/$product_id/"
    continue
  fi

  # Count files (must be 4: 3 scripts + Campaign Summary)
  file_count=$(ls -1 shorts_scripts/$product_id/*.md 2>/dev/null | wc -l)
  if [ $file_count -lt 4 ]; then
    echo "âŒ INCOMPLETE: Only $file_count files (expected 4)"
  else
    echo "âœ… COMPLETE: $file_count files"
  fi

  # Check Campaign Summary exists
  if [ ! -f "shorts_scripts/$product_id/Campaign_Summary.md" ]; then
    echo "âŒ MISSING: Campaign_Summary.md"
  fi

  # Check image analysis (if images exist)
  if [ -d "product_list/$product_id/product_images" ]; then
    img_count=$(find "product_list/$product_id/product_images" -type f \( -name "*.jpg" -o -name "*.png" -o -name "*.webp" \) | wc -l)
    if [ $img_count -gt 0 ] && [ ! -f "product_list/$product_id/image_analysis.md" ]; then
      echo "âš ï¸ WARNING: $img_count images but no image_analysis.md"
    fi
  fi

  echo ""
done
```

**Expected Output (all products complete):**
```
=== Verifying 1729571650514622666 ===
âœ… COMPLETE: 4 files

=== Verifying 1729625207544715402 ===
âœ… COMPLETE: 4 files

=== Verifying 1729480021523209013 ===
âœ… COMPLETE: 4 files
```

---

### Step 1: Gather Source Materials

**Required files:**
```
product_list/{product_id}/
â”œâ”€â”€ video_analysis.md          # Reference video insights
â”œâ”€â”€ tabcut_data.md             # Performance metrics, top videos
â”œâ”€â”€ ref_video/                 # Downloaded reference videos (may differ from tabcut)
â”‚   â”œâ”€â”€ video_1_xxx.mp4
â”‚   â””â”€â”€ ...
â”œâ”€â”€ product_images/            # Package photos (if available)
â”‚   â”œâ”€â”€ product_image_1.webp
â”‚   â””â”€â”€ ...
â””â”€â”€ product_description.png    # Official TikTok Shop description (screenshot)
```

**Actions:**
1. **Verify local video files** - Check if `ref_video/` matches `tabcut_data.md` listings
   - User may have curated videos (deleted bad ones, added better ones)
   - If mismatch detected, prioritize analyzing ACTUAL local video files
2. Read `video_analysis.md` to understand successful angles
   - **âš ï¸ CRITICAL:** Verify analysis is based on actual local videos, not hallucinated
   - Check video durations mentioned match actual file durations
3. Read `tabcut_data.md` for product details and top video data
4. Analyze `product_images/` using Gemini MCP for visual hooks
5. Read official product description (screenshot or text file)

**Video Analysis Verification:**

If `video_analysis.md` seems inaccurate or missing:
- Check actual video durations using ffmpeg:
  ```bash
  ffmpeg -i video_file.mp4 2>&1 | grep Duration
  ```
- If durations don't match analysis â†’ **analysis is hallucinated, needs regeneration**

---

### Step 1.5: Video Analysis Best Practices (If Regenerating)

**âš ï¸ Important: Gemini MCP Limitations**

**Gemini MCP CANNOT directly access local .mp4 files.** It will hallucinate content based on:
- Filenames
- Existing analysis files
- Tabcut data

**Recommended Approaches:**

**Option A: Direct gemini-cli (Most Reliable)**
```bash
gemini "Analyze these 5 videos in [path/to/ref_video/] and report what you actually see"
```
- Run this OUTSIDE of MCP (user runs directly in terminal)
- Provides most accurate results

**Option B: Extract Video Frames (Works via Claude)**
```bash
# Extract opening frame from each video
ffmpeg -i video_1.mp4 -ss 00:00:01 -frames:v 1 -update 1 frame1.jpg -y
ffmpeg -i video_2.mp4 -ss 00:00:01 -frames:v 1 -update 1 frame2.jpg -y
# ... repeat for all videos
```
- Then analyze extracted frames using Read tool (multimodal)
- Provides visual hooks and text overlays
- Cannot capture audio/voiceover

**Option C: Manual User Input**
- Ask user to describe each video's hook, visuals, and key messages
- Most time-consuming but perfectly accurate

**Red Flags Indicating Hallucinated Analysis:**
- Video durations don't match ffmpeg output
- Claims about voiceover content without audio analysis
- Generic descriptions that could apply to any video
- Details not visible in extracted frames

---

### Step 2: Product Image Analysis âš ï¸ MANDATORY IF IMAGES EXIST

**ğŸš¨ CRITICAL CHECK:** Before proceeding, verify if images exist:

```bash
# Check if product has images
if [ -d "product_list/{product_id}/product_images" ]; then
  img_count=$(find "product_list/{product_id}/product_images" -type f \( -name "*.jpg" -o -name "*.png" -o -name "*.webp" \) 2>/dev/null | wc -l)
  if [ $img_count -gt 0 ]; then
    echo "âš ï¸ MANDATORY: Found $img_count images - MUST run image analysis"
  else
    echo "âœ… No images found - safe to skip Step 2"
  fi
fi
```

**If images exist:** This step is **MANDATORY**. Do not skip.

**Use Async Gemini CLI MCP to analyze product images:**

**Why Gemini CLI MCP instead of Claude Read tool:**
- âœ… **Parallel execution** - Analyze multiple products simultaneously
- âœ… **Token-efficient** - Doesn't consume Claude Code context/tokens
- âœ… **Faster processing** - Async background execution
- âœ… **Better for batch workflows** - Launch all analyses, retrieve when needed

**Tool:** `mcp__gemini-cli-mcp-async__gemini_cli_execute` or `mcp__gemini-cli-mcp-async__gemini_cli_execute_async`

**ğŸš¨ CRITICAL REQUIREMENTS:**
- **Bilingual output** (German + Chinese) - MANDATORY
- **Synthesized insights** - not just descriptions, but actionable script elements
- **Exact German text** - copy verbatim from packaging (for compliance)
- **Structured data** - organized for easy reference during script writing

**Example Usage:**

```javascript
// For single product (synchronous):
mcp__gemini-cli-mcp-async__gemini_cli_execute({
  query: `[See detailed prompt template below - use complete template for best results]`
})

// For batch workflow (asynchronous - RECOMMENDED):
const task1 = mcp__gemini-cli-mcp-async__gemini_cli_execute_async({
  query: `[Complete prompt template here]`
})
```

---

### Enhanced Prompt Template v1.5 (Comprehensive Bilingual Format)

**Use this COMPLETE template for image analysis (based on proven Cat Tree format):**

```
Analyze all product images in /path/to/product_list/{product_id}/product_images/

Create a COMPREHENSIVE BILINGUAL product intelligence report for TikTok script writing.

**OUTPUT FORMAT:**
- Use bilingual section headers: ## Section Name | ä¸­æ–‡èŠ‚å
- Provide inline translations for key content (German with Chinese in parentheses)
- Include 10+ sections with actionable script elements
- Minimum 250+ lines for comprehensive coverage

**REFERENCE FORMAT:** See product_list/1729600227153779322/product_images/image_analysis.md for example structure.

---
## REQUIRED SECTIONS (Minimum 10)

### Header Template
```markdown
# [Product Name] - Product Image Analysis
# [Product Name Chinese] - äº§å“å›¾åƒåˆ†æ

**Product ID:** {product_id}
**Analysis Date:** YYYY-MM-DD
**Images Analyzed:** X product images
```

---

## 1. Product Design & Aesthetics | äº§å“è®¾è®¡ä¸ç¾å­¦

**Style:** [Modern/Traditional/Luxus/Minimalistisch/etc.]
**é£æ ¼:** [ç°ä»£åŒ–/ä¼ ç»Ÿ/å¥¢å/ç®€çº¦ç­‰]

**Materials:**
- [Material 1 with details]
- [Material 2 with details]

**ææ–™:**
- [ææ–™1åŠç»†èŠ‚]
- [ææ–™2åŠç»†èŠ‚]

**Colors Available:**
- **[Color Name (German)]:** [Description, use case]
- **[é¢œè‰²åç§°ï¼ˆä¸­æ–‡ï¼‰]:** [æè¿°ã€ä½¿ç”¨åœºæ™¯]

**Vibe:** [Overall aesthetic impression]

---

## 2. [Product-Specific Features] | [äº§å“ç‰¹å®šåŠŸèƒ½]

*Adapt this section to product category:*
- **Electronics:** Technical specs, display, ports, buttons
- **Health/Supplements:** Bottle design, capsule count, ingredients
- **Furniture:** Dimensions, assembly, materials
- **Pet Products:** Size options, features, use cases

**Subsections (as needed):**
### [Feature Category 1] ([ä¸­æ–‡åç§°])
- Details with inline Chinese translations

### [Feature Category 2] ([ä¸­æ–‡åç§°])
- Details with inline Chinese translations

---

## 3. Size & Scale Indicators | å°ºå¯¸ä¸è§„æ¨¡æŒ‡æ ‡

**Total Dimensions:** [Length x Width x Height] (KEY SELLING POINT if notable)
**æ€»å°ºå¯¸:** [é•¿ x å®½ x é«˜]ï¼ˆå¦‚æœæ˜¾è‘—åˆ™ä¸ºå…³é”®å–ç‚¹ï¼‰

**[Component] Size:** [Specific measurements]
**[ç»„ä»¶]å°ºå¯¸:** [å…·ä½“æµ‹é‡å€¼]

**Capacity/Scale:** [Usage capacity, weight limits, servings, etc.]
**å®¹é‡/è§„æ¨¡:** [ä½¿ç”¨å®¹é‡ã€é‡é‡é™åˆ¶ã€ä»½é‡ç­‰]

---

## 4. Text & Labels (German) | æ–‡å­—ä¸æ ‡ç­¾ï¼ˆå¾·è¯­ï¼‰

**Note:** [Indicate if text is in German, English, or other languages]

**German Terms (EXACT from packaging):**
- **[Term 1]:** "[Exact German text in quotes]"
- **[Term 2]:** "[Exact German text in quotes]"
- **[Term 3]:** "[Exact German text in quotes]"

**Marketing Copy (if English/other):**
- "[Exact text 1]"
- "[Exact text 2]"

**Key Feature Descriptions:** [How product describes itself]
**å…³é”®åŠŸèƒ½æè¿°:** [äº§å“å¦‚ä½•æè¿°è‡ªå·±]

---

## 5. Quality Signals | è´¨é‡ä¿¡å·

**Visible Quality Indicators:**

1. **[Quality Aspect 1] ([ä¸­æ–‡])**
   - [Details showing quality]
   - [å…·ä½“è´¨é‡ä½“ç°]

2. **[Quality Aspect 2] ([ä¸­æ–‡])**
   - [Details showing quality]
   - [å…·ä½“è´¨é‡ä½“ç°]

3. **Construction Details (æ„é€ ç»†èŠ‚)**
   - [Finishing, edges, materials]
   - [å®Œå·¥ã€è¾¹ç¼˜ã€ææ–™]

4. **Certifications/Badges (è®¤è¯/å¾½ç« )**
   - [CE, GS, TÃœV, Bio, Vegan, etc. - exact names]
   - [å…·ä½“è®¤è¯åç§°]

---

## 6. [Variations/Options] | [å˜ä½“/é€‰é¡¹]

**[Color/Size/Version] Variations:**

**[Option 1]:**
- [Description and use case]
- [æè¿°å’Œä½¿ç”¨åœºæ™¯]

**[Option 2]:**
- [Description and use case]
- [æè¿°å’Œä½¿ç”¨åœºæ™¯]

---

## 7. Key Differentiators (vs. Competitors) | å…³é”®å·®å¼‚åŒ–ï¼ˆä¸ç«äº‰å¯¹æ‰‹ç›¸æ¯”ï¼‰

### UNIQUE FEATURES (ç‹¬ç‰¹åŠŸèƒ½)

1. **[Unique Feature 1] ([ä¸­æ–‡åç§°])**
   - [Why it's unique, advantage over competitors]
   - [ä¸ºä½•ç‹¬ç‰¹ã€ç›¸æ¯”ç«äº‰å¯¹æ‰‹çš„ä¼˜åŠ¿]

2. **[Unique Feature 2 - STAR FEATURE] ([ä¸­æ–‡åç§° - æ˜æ˜ŸåŠŸèƒ½])**
   - [Detailed explanation of standout feature]
   - [çªå‡ºåŠŸèƒ½çš„è¯¦ç»†è¯´æ˜]

3. **[Unique Feature 3] ([ä¸­æ–‡åç§°])**
   - [Advantage and market positioning]
   - [ä¼˜åŠ¿å’Œå¸‚åœºå®šä½]

---

## 8. Usage Context | ä½¿ç”¨åœºæ™¯

**Room Setting / Use Environment:**
- [Where product is shown being used]
- [äº§å“å±•ç¤ºä½¿ç”¨çš„åœ°æ–¹]

**Target Use Cases:**
- [Use case 1 with target audience]
- [Use case 2 with target audience]
- [ä½¿ç”¨åœºæ™¯1åŠç›®æ ‡å—ä¼—]
- [ä½¿ç”¨åœºæ™¯2åŠç›®æ ‡å—ä¼—]

**Target Audience Indicators:**
- [Who this product is for based on visuals]
- [åŸºäºè§†è§‰æ•ˆæœçš„ç›®æ ‡ç”¨æˆ·]

---

## 9. Packaging/Presentation | åŒ…è£…/å±•ç¤º

**Visible Packaging Elements:**
- [Packaging type, design, certifications]
- [åŒ…è£…ç±»å‹ã€è®¾è®¡ã€è®¤è¯]

**Brand Presentation:**
- [Photography style, lifestyle integration]
- [æ‘„å½±é£æ ¼ã€ç”Ÿæ´»æ–¹å¼èåˆ]

---

## 10. Visual Hooks for TikTok Scripts | TikTok è„šæœ¬çš„è§†è§‰é’©å­

### Priority Visual Elements (æŒ‰ä¼˜å…ˆçº§æ’åº)

1. **"[Hook Name]" ([ä¸­æ–‡é’©å­å])**
   - **How to film:** [Specific filming instruction]
   - **Why it works:** [Psychological/attention reason]
   - **Script hook:** "[Exact German hook line for script]"
   - **å¦‚ä½•æ‹æ‘„:** [å…·ä½“æ‹æ‘„æŒ‡å¯¼]

2. **"[Hook Name]" ([ä¸­æ–‡é’©å­å])**
   - **How to film:** [Specific filming instruction]
   - **Why it works:** [Psychological/attention reason]
   - **Script hook:** "[Exact German hook line for script]"
   - **å¦‚ä½•æ‹æ‘„:** [å…·ä½“æ‹æ‘„æŒ‡å¯¼]

3. **"[Hook Name]" ([ä¸­æ–‡é’©å­å])**
   - **How to film:** [Specific filming instruction]
   - **Why it works:** [Psychological/attention reason]
   - **Script hook:** "[Exact German hook line for script]"
   - **å¦‚ä½•æ‹æ‘„:** [å…·ä½“æ‹æ‘„æŒ‡å¯¼]

[Include 5-6 visual hooks minimum]

---

## Visual Hook Recommendations by Script Angle | æŒ‰è„šæœ¬è§’åº¦çš„è§†è§‰é’©å­æ¨è

**Angle 1: [Urgency/Price/Deal]**
- **Primary Visual:** [Main visual element]
- **Secondary Visual:** [Supporting visual]
- **ä¸»è¦è§†è§‰:** [ä¸»è¦è§†è§‰å…ƒç´ ]
- **æ¬¡è¦è§†è§‰:** [è¾…åŠ©è§†è§‰]

**Angle 2: [Problem-Solution]**
- **Primary Visual:** [Main visual element]
- **Secondary Visual:** [Supporting visual]
- **ä¸»è¦è§†è§‰:** [ä¸»è¦è§†è§‰å…ƒç´ ]
- **æ¬¡è¦è§†è§‰:** [è¾…åŠ©è§†è§‰]

**Angle 3: [Lifestyle/Gift/Transformation]**
- **Primary Visual:** [Main visual element]
- **Secondary Visual:** [Supporting visual]
- **ä¸»è¦è§†è§‰:** [ä¸»è¦è§†è§‰å…ƒç´ ]
- **æ¬¡è¦è§†è§‰:** [è¾…åŠ©è§†è§‰]

---

## [Color/Version] Choice for Scripts | è„šæœ¬çš„[é¢œè‰²/ç‰ˆæœ¬]é€‰æ‹©

**[Option 1]:**
- Better for [aesthetic/angle type]
- Recommended for [script angle]
- æ›´é€‚åˆ[ç¾å­¦/è§’åº¦ç±»å‹]
- æ¨èç”¨äº[è„šæœ¬è§’åº¦]

**[Option 2]:**
- Better for [aesthetic/angle type]
- Recommended for [script angle]
- æ›´é€‚åˆ[ç¾å­¦/è§’åº¦ç±»å‹]
- æ¨èç”¨äº[è„šæœ¬è§’åº¦]

---

## German Text Elements for Scripts | è„šæœ¬çš„å¾·è¯­æ–‡å­—å…ƒç´ 

**Product Name Variations:**
- [Variation 1]
- [Variation 2]
- [Variation 3]

**Feature Callouts (EXACT German from packaging):**
- "[German term 1]" ([English translation])
- "[German term 2]" ([English translation])
- "[German term 3]" ([English translation])

**Quality Claims (Safe for Scripts):**
- "[Safe claim 1]" ([Translation])
- "[Safe claim 2]" ([Translation])
- "[Safe claim 3]" ([Translation])

---

## Next Step: Script Generation | ä¸‹ä¸€æ­¥ï¼šè„šæœ¬ç”Ÿæˆ

**Ready to use:**
- âœ… Product specifications from tabcut_data.md
- âœ… Market insights from video_analysis.md (if available)
- âœ… Visual hooks from this image_analysis.md
- âœ… German terminology and feature descriptions

**Generate 3 scripts using:**
1. **Angle 1:** [Recommended angle] â†’ Hook Type: [Golden 3 Seconds pattern]
2. **Angle 2:** [Recommended angle] â†’ Hook Type: [Golden 3 Seconds pattern]
3. **Angle 3:** [Recommended angle] â†’ Hook Type: [Golden 3 Seconds pattern]

---

**Analysis completed:** YYYY-MM-DD
**Ready for:** Script Generation (Step 3)

**OUTPUT FORMAT:**
Save as `product_list/{product_id}/image_analysis.md`
```

---

### What Makes Good v1.5 Image Analysis

**âœ… GOOD (Comprehensive + Bilingual):**
```
## 1. Product Design & Aesthetics | äº§å“è®¾è®¡ä¸ç¾å­¦
Style: Modern, floor-to-ceiling tower style (skyscraper for cats)
é£æ ¼: ç°ä»£åŒ–ï¼Œè½åœ°åˆ°å¤©èŠ±æ¿çš„å¡”å¼è®¾è®¡ï¼ˆçŒ«çš„æ‘©å¤©å¤§æ¥¼ï¼‰

Materials:
- Soft plush fabric covering (velvety/dense texture)
- Natural sisal rope wrapping on posts (segmented design)

ææ–™:
- æŸ”è½¯çš„æ¯›ç»’å¸ƒæ–™è¦†ç›–ï¼ˆå¤©é¹…ç»’èˆ¬/å¯†é›†è´¨åœ°ï¼‰
- å¤©ç„¶å‰‘éº»ç»³ç¼ ç»•åœ¨æŠ“æŸ±ä¸Šï¼ˆåˆ†æ®µè®¾è®¡ï¼‰

## 10. Visual Hooks for TikTok Scripts | TikTok è„šæœ¬çš„è§†è§‰é’©å­

1. **"The Penthouse View" (é¡¶å±‚è§†è§’)**
   - **How to film:** Slow pan UP the 210cm height to reveal cat looking down
   - **Why it works:** Emphasizes impressive height, shows scale dramatically
   - **Script hook:** "Deine Katze verdient eine Penthouse-Wohnung, kein einfaches Bett."
```

**âŒ BAD (Generic + Monolingual):**
```
## 1. Packaging Design
- Color Scheme: White background with blue accent
- Aesthetic: Minimalist
- Visual Impression: Simple cardboard box
```

---

**Save Analysis:**
ALWAYS save comprehensive bilingual analysis to:
```
product_list/{product_id}/image_analysis.md
```

This becomes a critical reference document for script writing.

---

### Output Validation & Quality Check âš ï¸ MANDATORY

**After Gemini completes image analysis, you MUST verify output quality:**

#### Minimum Requirements (PASS/FAIL)

```bash
# Verify image analysis meets requirements
wc -l product_list/{product_id}/image_analysis.md
# Expected: 250+ lines minimum for v1.5 comprehensive format
```

**âœ… PASS Criteria (All must be true):**
- [ ] **File size:** 250+ lines (good examples: 300-400 lines)
- [ ] **Bilingual headers:** All major sections use "## Name | ä¸­æ–‡å" format
- [ ] **Inline translations:** Key content has Chinese translations in parentheses or separate lines
- [ ] **Section 10 present:** "Visual Hooks for TikTok Scripts" with 5-6 hooks
- [ ] **Exact German text:** Verbatim quotes from packaging (in quotes)
- [ ] **Actionable hooks:** "How to film" + "Script hook" for each visual element
- [ ] **Script recommendations:** "Visual Hook Recommendations by Script Angle" section exists

**âŒ FAIL Indicators (Requires retry):**
- **Too short:** <200 lines = incomplete analysis
- **No inline bilingual:** Headers bilingual but body content only in one language
- **No Section 10:** Missing "Visual Hooks for TikTok Scripts" = not actionable
- **Generic hooks:** "Show the product" without specific filming instructions
- **No script lines:** Missing ready-to-use German hook formulations

#### Verification Command

```bash
# Quick quality check (v1.5 format)
echo "=== IMAGE ANALYSIS QUALITY CHECK (v1.5) ==="
echo "Line count: $(wc -l < product_list/{product_id}/image_analysis.md)"
echo ""
echo "Required sections check:"
grep -c "## 1.*|" product_list/{product_id}/image_analysis.md && echo "âœ“ Section 1 (Bilingual)" || echo "âœ— MISSING bilingual section 1"
grep -c "## 10.*Visual Hooks" product_list/{product_id}/image_analysis.md && echo "âœ“ Section 10 (Visual Hooks)" || echo "âœ— MISSING Visual Hooks section"
grep -c "How to film:" product_list/{product_id}/image_analysis.md && echo "âœ“ Filming instructions present" || echo "âœ— MISSING filming instructions"
grep -c "Script hook:" product_list/{product_id}/image_analysis.md && echo "âœ“ Script hooks present" || echo "âœ— MISSING script hooks"
```

**Expected output (PASS):**
```
=== IMAGE ANALYSIS QUALITY CHECK (v1.5) ===
Line count: 362

Required sections check:
âœ“ Section 1 (Bilingual)
âœ“ Section 10 (Visual Hooks)
âœ“ Filming instructions present
âœ“ Script hooks present
```

#### If Output FAILS Validation

**ğŸ”„ RETRY REQUIRED - Reference the complete v1.5 template:**

```javascript
mcp__gemini-cli-mcp-async__gemini_cli_execute({
  query: `CRITICAL: Previous analysis was incomplete. You MUST follow the v1.5 comprehensive bilingual format.

REFERENCE EXAMPLE: product_list/1729600227153779322/product_images/image_analysis.md
(This is the gold standard - 362 lines, fully bilingual, actionable visual hooks)

[Paste complete template from lines 314-584 above]

MANDATORY v1.5 REQUIREMENTS:
1. Minimum 250+ lines total
2. All major sections use bilingual headers: ## Name | ä¸­æ–‡å
3. Inline Chinese translations for key content
4. Section 10 "Visual Hooks for TikTok Scripts" with 5-6 detailed hooks
5. Each hook must have:
   - **How to film:** Specific camera instruction
   - **Why it works:** Psychological reason
   - **Script hook:** Ready-to-use German line
6. Exact German text from packaging in quotes
7. "Visual Hook Recommendations by Script Angle" section
8. "Next Step: Script Generation" section with angle recommendations

DO NOT output shortened analysis. Follow the Cat Tree example structure exactly.`
})
```

**ğŸš¨ CRITICAL:** Do NOT proceed to script writing with failed image analysis. Scripts will be low-quality without comprehensive bilingual input.

---

**Warnhinweise/Anweisungen:** [Falls sichtbar]

### 3. Visuelle Highlights & Badges
- **Siegel/Zertifikate:** [Welche QualitÃ¤tssiegel sind sichtbar? z.B. "LaborgeprÃ¼ft", "Made in Germany", etc.]
- **Zahlen/Counts:** [z.B. "7-Fach Komplex", "60 Kapseln", "500ml", etc.]
- **Hervorhebungen:** [Was wird visuell betont? Kreise, Pfeile, Boxen?]

### 4. Marketing-Botschaften
**Hauptversprechen:** [Was wird versprochen? Exakter Wortlaut]
**Zielgruppe:** [FÃ¼r wen ist das Produkt? Sichtbare Hinweise?]
**Use Cases:** [WofÃ¼r wird es verwendet? Icons, Bilder, Text?]

### 5. Produktdetails
**Menge/GrÃ¶ÃŸe:** [Exakte Angaben: ml, g, StÃ¼ckzahl, Tage-Vorrat]
**Dosierung:** [Falls angegeben - wie viel, wie oft?]
**Abmessungen:** [GrÃ¶ÃŸenangaben in cm/mm falls sichtbar]
**Varianten:** [Verschiedene Farben/GrÃ¶ÃŸen/Versionen sichtbar?]

### 6. Vertrauenssignale
- **Zertifizierungen:** [CE, GS, TÃœV, Bio, Vegan, etc. - exakte Bezeichnungen]
- **Herkunft:** ["Made in...", "Hergestellt in...", Flaggen-Icons]
- **QualitÃ¤tsversprechen:** ["LaborgeprÃ¼ft", "Dermatologisch getestet", etc.]
- **Marke/Hersteller:** [Name und Logo - Markenbekanntheit?]

---
## PART 2: SYNTHESIZED SCRIPT ELEMENTS (DE)

### FÃ¼r Hook (Erste 3 Sekunden)
**Visuelle Hooks (was sofort erkennbar ist):**
- [Element 1 mit exaktem deutschen Begriff]
- [Element 2 mit exaktem deutschen Begriff]
- [Element 3 mit exaktem deutschen Begriff]

**MÃ¶gliche Hook-Formulierungen basierend auf Verpackung:**
- "[Formulierung 1 basierend auf grÃ¶ÃŸtem Claim]"
- "[Formulierung 2 basierend auf Zahlen/Counts]"
- "[Formulierung 3 basierend auf Zertifikaten]"

### FÃ¼r Produktvorstellung (Sekunden 3-15)
**Kernmerkmale fÃ¼r Scripts (in Reihenfolge der Wichtigkeit):**
1. [Hauptmerkmal - mit exaktem deutschen Begriff von Verpackung]
2. [Zweites Merkmal - mit exaktem deutschen Begriff]
3. [Drittes Merkmal - mit exaktem deutschen Begriff]

**Spezifische Zahlen/Daten fÃ¼r GlaubwÃ¼rdigkeit:**
- [z.B. "60 Kapseln fÃ¼r 2 Monate"]
- [z.B. "7-Fach Komplex mit..."]
- [z.B. "500ml - reicht fÃ¼r..."]

### FÃ¼r Trust-Building (Sekunden 15-25)
**Vertrauenselemente (von Verpackung):**
- [Trust Signal 1 - exakter deutscher Wortlaut]
- [Trust Signal 2 - exakter deutscher Wortlaut]
- [Trust Signal 3 - exakter deutscher Wortlaut]

### FÃ¼r CTA (Letzten 5-10 Sekunden)
**Erkennungsmerkmale fÃ¼r "Link unten":**
- "[Was macht das Produkt visuell erkennbar? z.B. 'Mit den blauen Orchideen erkennst du es']"
- "[Verpackungsdetail das einzigartig ist]"

---
## PART 3: COMPLIANCE CHECK (DE)

**Gesundheitsbezogene Angaben (falls Health/Supplement):**
- [Welche Claims werden gemacht? Exakter Wortlaut]
- [Sind diese Claims "sicher" (unterstÃ¼tzt/kann helfen) oder "problematisch" (heilt/garantiert)?]

**Zu vermeidende Begriffe (falls auf Verpackung):**
- [Liste problematischer medizinischer Claims, falls vorhanden]

**Sichere Alternativen:**
- [Wie kÃ¶nnen die Verpackungs-Claims compliance-konform umformuliert werden?]

---
## PART 4: ä¸­æ–‡ç¿»è¯‘ (Product Intelligence in Chinese)

### 1. åŒ…è£…è®¾è®¡ä¸ç¾å­¦
**é¢œè‰²ï¼š** [åŒ…è£…ä¸»è‰²è°ƒ]
**æè´¨ï¼š** [ç“¶/ç½/ç›’/è¢‹ - æè´¨å’Œå½¢çŠ¶]
**è§†è§‰é£æ ¼ï¼š** [ç°ä»£/ä¼ ç»Ÿ/å¥¢å/ç®€çº¦ç­‰]
**çªå‡ºè®¾è®¡å…ƒç´ ï¼š** [æœ€æ˜¾çœ¼çš„æ˜¯ä»€ä¹ˆï¼Ÿ]

### 2. å¾·è¯­åŒ…è£…æ–‡å­—ï¼ˆåŸæ–‡ç…§æŠ„ï¼‰
**äº§å“åç§°ï¼š** "[åŒ…è£…ä¸Šçš„å‡†ç¡®åç§°]"
**ä¸»è¦å®£ç§°ï¼š** "[æœ€å¤§/æœ€çªå‡ºçš„æ–‡å­—]"
**åŠŸèƒ½æè¿°ï¼š** "[äº§å“å¦‚ä½•è¢«æè¿°ï¼Ÿ]"
**æˆåˆ†/ç»„ä»¶ï¼š** [å‡†ç¡®çš„å¾·è¯­æœ¯è¯­åˆ—è¡¨]
**è­¦å‘Š/è¯´æ˜ï¼š** [å¦‚æœå¯è§]

### 3. è§†è§‰äº®ç‚¹ä¸å¾½ç« 
- **è®¤è¯/è¯ä¹¦ï¼š** [å¯è§çš„è´¨é‡è®¤è¯ï¼Ÿå¦‚"å®éªŒå®¤æµ‹è¯•"ã€"å¾·å›½åˆ¶é€ "ç­‰]
- **æ•°å­—/è®¡æ•°ï¼š** [å¦‚"7é‡å¤åˆç‰©"ã€"60ç²’èƒ¶å›Š"ã€"500æ¯«å‡"ç­‰]
- **å¼ºè°ƒå†…å®¹ï¼š** [è§†è§‰å¼ºè°ƒäº†ä»€ä¹ˆï¼Ÿåœˆã€ç®­å¤´ã€æ¡†ï¼Ÿ]

### 4. è¥é”€ä¿¡æ¯
**ä¸»è¦æ‰¿è¯ºï¼š** [æ‰¿è¯ºäº†ä»€ä¹ˆï¼Ÿå‡†ç¡®æªè¾]
**ç›®æ ‡å—ä¼—ï¼š** [äº§å“é¢å‘è°ï¼Ÿå¯è§çº¿ç´¢ï¼Ÿ]
**ä½¿ç”¨åœºæ™¯ï¼š** [ç”¨äºä»€ä¹ˆï¼Ÿå›¾æ ‡ã€å›¾ç‰‡ã€æ–‡å­—ï¼Ÿ]

### 5. äº§å“è¯¦æƒ…
**æ•°é‡/å°ºå¯¸ï¼š** [å‡†ç¡®ä¿¡æ¯ï¼šæ¯«å‡ã€å…‹ã€ä»¶æ•°ã€å¤©æ•°ä¾›åº”]
**å‰‚é‡ï¼š** [å¦‚æœ‰è¯´æ˜ - å¤šå°‘ã€å¤šä¹…ä¸€æ¬¡ï¼Ÿ]
**å°ºå¯¸ï¼š** [å˜ç±³/æ¯«ç±³çš„å°ºå¯¸ä¿¡æ¯ï¼ˆå¦‚å¯è§ï¼‰]
**å˜ä½“ï¼š** [å¯è§ä¸åŒé¢œè‰²/å°ºå¯¸/ç‰ˆæœ¬ï¼Ÿ]

### 6. ä¿¡ä»»ä¿¡å·
- **è®¤è¯ï¼š** [CEã€GSã€TÃœVã€æœ‰æœºã€çº¯ç´ ç­‰ - å‡†ç¡®åç§°]
- **äº§åœ°ï¼š** ["Made in..."ã€"åˆ¶é€ äº..."ã€å›½æ——å›¾æ ‡]
- **è´¨é‡æ‰¿è¯ºï¼š** ["å®éªŒå®¤æµ‹è¯•"ã€"çš®è‚¤ç§‘æµ‹è¯•"ç­‰]
- **å“ç‰Œ/åˆ¶é€ å•†ï¼š** [åç§°å’Œæ ‡å¿— - å“ç‰ŒçŸ¥ååº¦ï¼Ÿ]

---
## PART 5: è„šæœ¬è¦ç´ ç»¼åˆï¼ˆä¸­æ–‡ï¼‰

### é’©å­ï¼ˆå‰3ç§’ï¼‰
**è§†è§‰é’©å­ï¼ˆç«‹å³å¯è¯†åˆ«ï¼‰ï¼š**
- [è¦ç´ 1åŠå‡†ç¡®å¾·è¯­æœ¯è¯­]
- [è¦ç´ 2åŠå‡†ç¡®å¾·è¯­æœ¯è¯­]
- [è¦ç´ 3åŠå‡†ç¡®å¾·è¯­æœ¯è¯­]

**åŸºäºåŒ…è£…çš„å¯èƒ½é’©å­è¡¨è¿°ï¼š**
- "[åŸºäºæœ€å¤§å®£ç§°çš„è¡¨è¿°1]"
- "[åŸºäºæ•°å­—/è®¡æ•°çš„è¡¨è¿°2]"
- "[åŸºäºè¯ä¹¦çš„è¡¨è¿°3]"

### äº§å“ä»‹ç»ï¼ˆ3-15ç§’ï¼‰
**è„šæœ¬æ ¸å¿ƒç‰¹å¾ï¼ˆæŒ‰é‡è¦æ€§æ’åºï¼‰ï¼š**
1. [ä¸»è¦ç‰¹å¾ - åŒ…è£…ä¸Šçš„å‡†ç¡®å¾·è¯­æœ¯è¯­]
2. [ç¬¬äºŒç‰¹å¾ - åŒ…è£…ä¸Šçš„å‡†ç¡®å¾·è¯­æœ¯è¯­]
3. [ç¬¬ä¸‰ç‰¹å¾ - åŒ…è£…ä¸Šçš„å‡†ç¡®å¾·è¯­æœ¯è¯­]

**å¢å¼ºå¯ä¿¡åº¦çš„å…·ä½“æ•°å­—/æ•°æ®ï¼š**
- [å¦‚"60ç²’èƒ¶å›Šå¯ç”¨2ä¸ªæœˆ"]
- [å¦‚"7é‡å¤åˆç‰©å«..."]
- [å¦‚"500æ¯«å‡ - è¶³å¤Ÿ..."]

### ä¿¡ä»»å»ºç«‹ï¼ˆ15-25ç§’ï¼‰
**ä¿¡ä»»è¦ç´ ï¼ˆæ¥è‡ªåŒ…è£…ï¼‰ï¼š**
- [ä¿¡ä»»ä¿¡å·1 - å‡†ç¡®å¾·è¯­æªè¾]
- [ä¿¡ä»»ä¿¡å·2 - å‡†ç¡®å¾·è¯­æªè¾]
- [ä¿¡ä»»ä¿¡å·3 - å‡†ç¡®å¾·è¯­æªè¾]

### è¡ŒåŠ¨å·å¬ï¼ˆæœ€å5-10ç§’ï¼‰
**"é“¾æ¥åœ¨ä¸‹æ–¹"çš„è¯†åˆ«ç‰¹å¾ï¼š**
- "[ä»€ä¹ˆè®©äº§å“åœ¨è§†è§‰ä¸Šå¯è¯†åˆ«ï¼Ÿå¦‚'é€šè¿‡è“è‰²å…°èŠ±ä½ å°±èƒ½è®¤å‡ºå®ƒ']"
- "[ç‹¬ç‰¹çš„åŒ…è£…ç»†èŠ‚]"

---
## PART 6: COMPLIANCE æ£€æŸ¥ï¼ˆä¸­æ–‡ï¼‰

**å¥åº·ç›¸å…³å£°æ˜ï¼ˆå¦‚æœæ˜¯å¥åº·/è¡¥å……å‰‚ï¼‰ï¼š**
- [åšå‡ºäº†å“ªäº›å£°æ˜ï¼Ÿå‡†ç¡®æªè¾]
- [è¿™äº›å£°æ˜æ˜¯"å®‰å…¨çš„"ï¼ˆæ”¯æŒ/å¯ä»¥å¸®åŠ©ï¼‰è¿˜æ˜¯"æœ‰é—®é¢˜çš„"ï¼ˆæ²»æ„ˆ/ä¿è¯ï¼‰ï¼Ÿ]

**åº”é¿å…çš„æœ¯è¯­ï¼ˆå¦‚æœåœ¨åŒ…è£…ä¸Šï¼‰ï¼š**
- [æœ‰é—®é¢˜çš„åŒ»å­¦å£°æ˜åˆ—è¡¨ï¼ˆå¦‚æœ‰ï¼‰]

**å®‰å…¨æ›¿ä»£æ–¹æ¡ˆï¼š**
- [å¦‚ä½•å°†åŒ…è£…å£°æ˜æ”¹å†™ä¸ºåˆè§„è¡¨è¿°ï¼Ÿ]

---

**OUTPUT FORMAT:**
Save this complete bilingual analysis as `image_analysis.md` in the product folder.
Structure exactly as shown above with all 6 parts (3 German + 3 Chinese).
Use markdown headers (##, ###) for proper formatting.
```

---

### What Makes Good Image Analysis

**âŒ BAD (Generic/Descriptive):**
```
Packaging Design: Blue and white bottle
Label Text: Product name is visible
Marketing Messages: Claims to help with health
```

**âœ… GOOD (Specific/Synthesized):**
```
## Verpackungsdesign & Ã„sthetik
Farben: Tiefblau (Pantone 2945C Ã¤hnlich) mit weiÃŸen/goldenen Akzenten
Material: Transparente PET-Flasche mit hochwertiger Aluminium-Kappe
AuffÃ¤llige Designelemente: Blaue Orchideen-Grafik nimmt 40% der Vorderseite ein

## Deutscher Text von der Verpackung (WORTGENAU)
Produktname: "Brennnessel Komplex - EntwÃ¤sserung & Ausscheidung"
Hauptclaim: "UnterstÃ¼tzt natÃ¼rliche Wasserbalance"
Inhaltsstoffe: "7-Fach Komplex: Brennnesselblatt-Extrakt, LÃ¶wenzahnwurzel-Extrakt, Birkenblatt..."

## FÃ¼r Hook (Erste 3 Sekunden)
Visuelle Hooks:
- "7-Fach Komplex" Badge (rechteckig, gold, top-right)
- Blaue Orchideen (sofort erkennbar, Markenzeichen)
- "60 Kapseln = 2 Monate Vorrat" (prominent auf Vorderseite)

MÃ¶gliche Hook-Formulierungen:
- "Kennst du das? Morgens aufgedunsen... [zeigt 7-Fach Badge]"
- "Das mit den blauen Orchideen - 60 Kapseln fÃ¼r 2 Monate"
- "LaborgeprÃ¼ft + Made in Germany + 7-Fach Komplex"
```

---

**Save Analysis:**
ALWAYS save Gemini's bilingual analysis to:
```
product_list/{product_id}/image_analysis.md
```

This becomes a critical reference document for script writing.

---

### Output Validation & Quality Check âš ï¸ MANDATORY

**After Gemini completes image analysis, you MUST verify output quality:**

#### Minimum Requirements (PASS/FAIL)

```bash
# Verify image analysis meets requirements
wc -l product_list/{product_id}/image_analysis.md
# Expected: 150+ lines minimum (bilingual = more content)
```

**âœ… PASS Criteria (All must be true):**
- [ ] **File size:** 150+ lines (good examples: 250-400 lines)
- [ ] **German sections exist:** Parts 1-3 with headers in German
- [ ] **Chinese sections exist:** Parts 4-6 with headers in Chinese (## PART 4: ä¸­æ–‡ç¿»è¯‘)
- [ ] **Synthesized elements present:** "FÃ¼r Hook", "FÃ¼r Produktvorstellung", etc.
- [ ] **Exact German text:** Verbatim quotes from packaging (in quotes)
- [ ] **Actionable hooks:** 3+ ready-to-use hook formulations

**âŒ FAIL Indicators (Requires retry):**
- **Too short:** <100 lines = incomplete/generic analysis
- **No Chinese:** Only German/English sections = not bilingual
- **No synthesis:** Only describes what's visible, no "FÃ¼r Hook" section
- **No quotes:** No exact German text from packaging in quotes
- **Generic language:** "Product looks nice", "Good quality" without specifics

#### Verification Command

```bash
# Quick quality check
echo "=== IMAGE ANALYSIS QUALITY CHECK ==="
echo "Line count: $(wc -l < product_list/{product_id}/image_analysis.md)"
echo ""
echo "Required sections check:"
grep -c "## PART 1:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 1 (DE Visual Intelligence)" || echo "âœ— MISSING Part 1"
grep -c "## PART 2:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 2 (DE Synthesized)" || echo "âœ— MISSING Part 2"
grep -c "## PART 3:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 3 (DE Compliance)" || echo "âœ— MISSING Part 3"
grep -c "## PART 4:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 4 (ZH Translation)" || echo "âœ— MISSING Part 4"
grep -c "## PART 5:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 5 (ZH Synthesized)" || echo "âœ— MISSING Part 5"
grep -c "## PART 6:" product_list/{product_id}/image_analysis.md && echo "âœ“ Part 6 (ZH Compliance)" || echo "âœ— MISSING Part 6"
```

**Expected output (PASS):**
```
=== IMAGE ANALYSIS QUALITY CHECK ===
Line count: 287

Required sections check:
âœ“ Part 1 (DE Visual Intelligence)
âœ“ Part 2 (DE Synthesized)
âœ“ Part 3 (DE Compliance)
âœ“ Part 4 (ZH Translation)
âœ“ Part 5 (ZH Synthesized)
âœ“ Part 6 (ZH Compliance)
```

#### If Output FAILS Validation

**ğŸ”„ RETRY REQUIRED - Run image analysis again with explicit instructions:**

```javascript
mcp__gemini-cli-mcp-async__gemini_cli_execute({
  query: `CRITICAL: Previous analysis was incomplete. You MUST follow the COMPLETE template below.

[Paste COMPLETE template from lines 301-485]

MANDATORY OUTPUT REQUIREMENTS:
1. ALL 6 PARTS must be present (3 German + 3 Chinese)
2. Minimum 150 lines total
3. Part 2 "FÃ¼r Hook" section with 3+ ready-to-use formulations
4. Part 5 "é’©å­" section with Chinese translations
5. Exact German text in quotes (verbatim from packaging)
6. No generic descriptions - specific, synthesized insights only

DO NOT output incomplete analysis. If images are insufficient, state what's missing but still provide all 6 sections.`
})
```

**ğŸš¨ CRITICAL:** Do NOT proceed to script writing with failed image analysis. Scripts will be low-quality without proper bilingual, synthesized input.

---

### Step 3: Official Description Verification

**Read official TikTok Shop product description** (screenshot or saved file).

**Cross-reference:**
- Ingredient/component lists
- Benefit claims (CRITICAL for compliance)
- Technical specifications
- Usage instructions
- Certifications and quality claims

**Purpose:** Ensure script claims align EXACTLY with official product listing to avoid TikTok violations.

---

### Step 4: Determine Product Category & Compliance Rules

**Product Categories:**

### Category 1: Health & Supplements

**Strict Compliance Required:**

**NEVER use:**
- Medical claims: "heilt" (heals), "behandelt" (treats), "verhindert" (prevents), "therapiert"
- Guaranteed results: "wirst X kg verlieren" (will lose X kg), "garantiert"
- Disease treatment language: "gegen Diabetes", "heilt Krebs"
- Exaggerated health claims

**SAFE language patterns:**
- "kann unterstÃ¼tzen" (can support)
- "hilft dabei" (helps with)
- "natÃ¼rliche Inhaltsstoffe" (natural ingredients)
- "traditionell eingesetzt" (traditionally used)
- User experience, not medical effects
- Focus on feelings, not diagnoses
- Personal observations: "sah aus", "fÃ¼hlte mich" (appeared, felt)

### Category 2: Electronics & Tech

**Compliance Focus:**
- Accurate technical specifications (battery life, memory, etc.)
- No exaggerated performance claims
- Proper comparison language (if comparing to competitors)
- Safety certifications mentioned accurately

**SAFE language patterns:**
- "unterstÃ¼tzt bis zu X Stunden" (supports up to X hours)
- "mit X GB Speicher" (with X GB memory)
- "kompatibel mit" (compatible with)
- Specific feature descriptions from official specs

### Category 3: Beauty & Skincare

**Compliance Focus:**
- No medical/therapeutic claims
- Age-appropriate language
- Allergy/sensitivity warnings if applicable
- Ingredient transparency

**SAFE language patterns:**
- "kann das Hautbild unterstÃ¼tzen" (can support skin appearance)
- "spendet Feuchtigkeit" (provides moisture)
- "sieht X aus" (looks X) - observation, not claim
- "fÃ¼r X Hauttyp geeignet" (suitable for X skin type)

### Category 4: General Products (Household, Fashion, etc.)

**Compliance Focus:**
- Accurate material/fabric descriptions
- Honest durability claims
- Clear usage instructions
- Size/fit information

**SAFE language patterns:**
- "besteht aus X Material" (made of X material)
- "fÃ¼r X geeignet" (suitable for X)
- "einfach zu verwenden" (easy to use)

---

### Step 5: Script Angle Planning

**Generate 3 distinct angles based on reference video analysis:**

**Common Successful Angles:**

1. **Problem-Solution** (highest conversion)
   - Hook: Relatable pain point
   - Solution: Product as answer
   - Proof: User experience or specs
   - CTA: Link below

2. **Lifestyle Integration / Glow Up** (high engagement)
   - Hook: Daily routine scenario
   - Integration: How product fits seamlessly
   - Result: Observable improvement
   - CTA: Link below

3. **Educational / Value Proposition** (trust building)
   - Hook: "Did you know" or comparison
   - Education: Product science/features
   - Value: Why this product is better
   - CTA: Link below

**Map angles to reference videos:**
- If reference videos show "Deal/Discount" â†’ Use urgency angle
- If reference videos show "Testimonial" â†’ Use personal experience
- If reference videos show "Before/After" â†’ Use transformation angle

**Select 3 complementary angles** that don't overlap.

---

### Step 5.5: Golden 3 Seconds Hook Patterns

**Critical Success Factor:** The first 3 seconds determine 80%+ of video performance.

**8 Proven Hook Types for German TikTok:**

#### 1. The Urgency Type (Highest Retention)
**Keywords:** Last / Only remaining / Now / Heute / Nur noch

**Examples:**
- "Heute ist der letzte Tag." (Today is the last day.)
- "Nur noch heute." (Only today left.)

**Best For:** Coupons, flash sales, limited inventory, countdowns

**Pro Tip:** Keep tone calm and matter-of-fact. Avoid shouting or over-excitement (reduces trust in German market).

**Implementation:**
```
[matter-of-fact] Heute ist der letzte Tag fÃ¼r diesen Preis.
[soft] Morgen ist es vorbei.
```

---

#### 2. Pain Point Resonance Type (Most Stable)
**Keywords:** Every day / Always / Constantly / Jeden Tag / Immer / StÃ¤ndig

**Examples:**
- "Jeden Tag das gleiche Problem." (The same problem every day.)
- "Das nervt mich schon lange." (This has been annoying me for a long time.)

**Best For:** Household items, kitchen products, daily necessities, health supplements

**Why It Works:** Creates immediate emotional identification. Viewer thinks "That's ME!"

**Implementation:**
```
[soft] Kennst du das? Jeden Tag mÃ¼de, ohne Grund.
[reflective] Morgens aufgewachtâ€¦ und die Beine fÃ¼hlen sich schwer an.
```

---

#### 3. Counter-Intuitive Type (Strong Curiosity)
**Keywords:** No / Never / No longer / Nicht mehr / Nie wieder / Eigentlich nicht

**Examples:**
- "Ich mache das nicht mehr." (I don't do this anymore.)
- "Das braucht man eigentlich nicht dachte ich." (I thought you didn't actually need this.)

**Best For:** Functional products, problem-solving tools, innovative solutions

**Why It Works:** Creates pattern interrupt. Challenges viewer's assumptions.

**Implementation:**
```
[curious] Ich dachte, das braucht man eigentlich nicht.
[matter-of-fact] Aber dann hab ich's ausprobiert.
```

---

#### 4. Documentary Type (Safest for Organic Reach)
**Keywords:** Today / Just now / Now / Heute / Gerade / Jetzt

**Examples:**
- "Heute habe ich das erste Mal..." (Today is the first time I...)
- "Ich wollte das einfach festhalten." (I just wanted to record/capture this.)

**Best For:** Product unboxings, first impressions, testing videos

**German Market Insight:** German users HIGHLY trust "recording/documenting" authenticity. This feels less "salesy" than direct pitch.

**Implementation:**
```
[warm] Heute zeige ich euch, was ich gerade bekommen habe.
[curious] Ich wollte das einfach festhalten.
```

---

#### 5. Wrong Demonstration Type (High Retention)
**Keywords:** Many people / Almost everyone / Fast alle / Die meisten

**Examples:**
- "Das machen fast alle falsch." (Almost everyone is doing this wrong.)
- "Ich habe das viel zu lange falsch gemacht." (I did this the wrong way for way too long.)

**Best For:** Tutorials, tools, how-to content, product usage tips

**Why It Works:** Nobody wants to be "doing it wrong." Creates immediate attention.

**Implementation:**
```
[matter-of-fact] Die meisten nehmen das falsch ein.
[confident] Ich zeig dir, wie es richtig geht.
```

---

#### 6. Result-First Type (Direct)
**Keywords:** Now / Finally / Finally no longer / Jetzt / Endlich / Seitdem

**Examples:**
- "Jetzt ist es endlich gelÃ¶st." (It's finally solved now.)
- "Seitdem habe ich das Problem nicht mehr." (I haven't had that problem since.)

**Best For:** Before & After content, transformation stories, problem resolution

**Why It Works:** Shows the end result first, making viewers want to know "how?"

**Implementation:**
```
[bright] Endlich keine MuskelkrÃ¤mpfe mehr.
[reflective] Seitdem nehme ich das hier.
```

---

#### 7. Emotional Whisper Type (Germany Special)
**Keywords:** To be honest / Honestly speaking / Ehrlich gesagt / Ich war skeptisch

**Examples:**
- "Ehrlich gesagt..." (To be honest...)
- "Ich war wirklich skeptisch." (I was really skeptical.)

**German Market Insight:** German audiences respond VERY WELL to "low emotion" (understated) delivery. Over-enthusiasm = suspicious.

**Why It Works:** Creates trust through vulnerability and skepticism-to-belief journey.

**Implementation:**
```
[soft] Ehrlich gesagt, war ich skeptisch.
[reflective] Aber nach ein paar Tagenâ€¦ hat's mich Ã¼berrascht.
```

---

#### 8. Visual-First Type (No Voiceover)
**Method:** Lead with strong visual conflict or relatable problem.

**Visual Examples:**
- Cold feet stepping on hard floor
- Messy, disorganized kitchen drawer
- Frosted windows during winter
- Bloated stomach in mirror
- Heavy, tired legs

**On-Screen Text (0-2s):** "Kennt das jemand?" (Does anyone relate to this?)

**Why It Works:** Visual hooks process faster than audio. Universal recognition across language barriers.

**Implementation:**
- Open with problem visual (no voiceover)
- Add text overlay asking "Kennst das?"
- Then introduce product solution at 3-5s mark

---

### Hook Selection Strategy

**For each script, select ONE Golden 3 Seconds pattern as the primary hook:**

**High Conversion Products (supplements, health):**
- Primary: Pain Point Resonance (#2)
- Secondary: Result-First (#6)
- Tertiary: Emotional Whisper (#7)

**Deal/Flash Sale Products:**
- Primary: Urgency (#1)
- Secondary: Counter-Intuitive (#3)
- Tertiary: Pain Point Resonance (#2)

**Functional/Tool Products:**
- Primary: Wrong Demonstration (#5)
- Secondary: Counter-Intuitive (#3)
- Tertiary: Documentary (#4)

**Beauty/Lifestyle Products:**
- Primary: Visual-First (#8)
- Secondary: Result-First (#6)
- Tertiary: Documentary (#4)

**When in doubt:** Use Documentary Type (#4) - safest for organic reach in German market.

---

### Step 6: Script Writing

**Create 3 scripts following this structure:**

#### File Naming
```
shorts_scripts/{product_id}/
â”œâ”€â”€ {Product}_{Angle1}_Keyword.md
â”œâ”€â”€ {Product}_{Angle2}_Keyword.md
â””â”€â”€ {Product}_{Angle3}_Keyword.md
```

**Example:**
- `Brennnessel_Komplex_Bloating_Loesung.md`
- `Brennnessel_Komplex_Glow_Up.md`
- `Brennnessel_Komplex_Detox_Wellness.md`

#### Script Template

```yaml
---
cover: ""
caption: "[Punchy German caption - 1 sentence] #tag1 #tag2 #tag3 #tag4 #tag5"
published: YYYY-MM-DD
duration: "00:XX"   # 30-40s target
sales:
  - yes
link: ""
tags:
  - "#tag1"
  - "#tag2"
  - "#tag3"
  - "#tag4"
  - "#tag5"         # Max 5 tags
product: "[Full Product Name]"
source_notes:
  - "product_list/{product_id}/video_analysis.md"
  - "product_list/{product_id}/tabcut_data.md"
  - "product_list/{product_id}/product_images/"  # if used
---
## Scripts

Structure (30â€“40s):
- Hook: [Hook strategy]
- Product: [Product name + key feature]
- Benefit: [Main value proposition]
- Proof: [Trust signal or user experience]
- Feature: [Optional - standout feature]
- CTA: Link below

## Voiceover

> with ElevenLabs v3 (alpha) grammar

### DE (ElevenLabs Prompt | 30â€“40s)

[cue] Line 1.
[cue] Line 2.
[cue] Line 3.
...
[cue] CTA.

### ZH (ä¸­æ–‡ç¿»è¯‘)

[cue] ä¸­æ–‡ç¿»è¯‘ç¬¬1å¥ã€‚
[cue] ä¸­æ–‡ç¿»è¯‘ç¬¬2å¥ã€‚
[cue] ä¸­æ–‡ç¿»è¯‘ç¬¬3å¥ã€‚
...
[cue] CTAä¸­æ–‡ã€‚
```

---

### Step 7: ElevenLabs v3 Grammar Rules

**Critical formatting rules:**

**Marker Line (Required):**
```
> with ElevenLabs v3 (alpha) grammar
```

**Cue Usage:**
- **Hook:** 0-2 cues
- **Middle:** 1-3 cues
- **CTA:** 1 cue
- **Total:** 6-8 cues per script maximum

**Safe Cue Vocabulary:**
- Intensity: `[soft]`, `[neutral]`, `[bright]`, `[firm]`
- Emotion: `[warm]`, `[curious]`, `[amused]`, `[reflective]`, `[skeptical]`, `[confident]`
- Delivery: `[understated]`, `[matter-of-fact]`, `[whisper]`

**Pacing:**
- One idea per line (micro-lines for natural breaths)
- Use periods (`.`) for confident statements
- Use `â€¦` sparingly (1-3 per script) for suspense
- Use `â€”` sparingly (1-3 per script) for pivots
- Explicit `[pause XXms]` cues: 0-2 maximum

**Anti-AI Checklist:**
- Varied sentence lengths (short hits + medium sentences)
- 2+ human beats (reactions, asides, self-corrections)
- No repeated cadence patterns
- Short, confident CTA (no over-selling)

**Word Count Guidelines:**
- 30s: ~65-90 words
- 35s: ~80-105 words
- 40s: ~90-115 words

---

### Step 8: Bilingual Translation (DE â†’ ZH)

**For each script, provide Chinese translation:**

**Purpose:** Internal reference for non-German-speaking team members, NOT production.

**Translation Guidelines:**
- Keep cues identical: `[soft]` â†’ `[soft]`
- Translate content naturally (not word-for-word)
- Maintain tone and intent
- Keep product names in original language with Chinese explanation if needed
  - Example: "Wasserbalanceï¼ˆæ°´å¹³è¡¡ï¼‰"

---

### Step 9: Compliance Verification Checklist

**Before finalizing, verify each script:**

#### General Compliance
- [ ] All claims match official product description
- [ ] No exaggerations beyond official listing
- [ ] Technical specs accurate (quantity, dosage, dimensions)
- [ ] Trust signals accurate (certifications, origin)
- [ ] Source notes correctly linked

#### Category-Specific Compliance
- [ ] **Health Products:** No medical claims, no guarantees, safe language only
- [ ] **Electronics:** Accurate specs, no exaggerated performance
- [ ] **Beauty:** No therapeutic claims, ingredient transparency
- [ ] **General:** Honest material/quality descriptions

#### Format Compliance
- [ ] YAML frontmatter complete and valid
- [ ] Exactly 5 tags (no more, no less)
- [ ] **Caption includes hashtags** in TikTok format: "Text here #tag1 #tag2 #tag3"
- [ ] Duration estimate realistic (word count check)
- [ ] ElevenLabs v3 marker present
- [ ] Cues valid and minimal (6-8 total)
- [ ] Both DE and ZH sections present
- [ ] Caption punchy and production-ready

---

### Step 10: Create Campaign Summary

**After all 3 scripts are complete, create a comprehensive campaign summary file.**

**Purpose:**
- Provides strategic overview of all 3 scripts as a unified campaign
- Documents performance data and predictions
- Serves as production brief for video team
- Enables data-driven optimization decisions

**File Location:**
```
shorts_scripts/{product_id}/Campaign_Summary.md
```

**Required Content Sections:**

#### 1. Header Metadata
```yaml
---
product_id: "{product_id}"
product_name: "{Full Product Name}"
campaign_date: YYYY-MM-DD
scripts_count: 3
total_duration: "~XXXs (Xm XXs)"
target_audience: "{Primary demographic}"
---
```

#### 2. Product Overview
- Full product name and shop
- Key features and USPs
- Supply details (quantity, duration)
- Quality certifications
- Main ingredients/components list

#### 3. Campaign Strategy
- Overall strategic approach
- Psychological triggers used (Fear/Urgency, Validation, Education, etc.)
- Key insight statement

#### 4. Scripts Overview (All 3)
For each script:
- **File name** and duration
- **Effectiveness rating** (X/10) based on video analysis or prediction
- **Hook** (exact opening line)
- **Strategy** (what makes this angle work)
- **Tags** (hashtag list)
- **Best For** (specific audience segment)
- **Why It Works** or **Based On** (reference to video analysis insights)

#### 5. Audience Segmentation Table
```markdown
| Audience Segment | Primary Script | Secondary Script |
|:-----------------|:---------------|:-----------------|
| {Segment 1} | Script X ({Angle}) | Script Y ({Angle}) |
| {Segment 2} | Script Y ({Angle}) | Script X ({Angle}) |
...
```

#### 6. Key Selling Points Across Campaign
Organize by trigger type:
- **Rational Triggers (Left Brain):** Specs, certifications, value
- **Emotional Triggers (Right Brain):** Feelings, relief, transformation
- **Trust Signals:** Quality badges, origin, testing

#### 7. Performance Data (Actual Market Results)
From `tabcut_data.md`:
- Total Sales & Revenue
- 7-Day Sales & Revenue
- Conversion Rate
- Video Performance metrics
- Top Performing Video details (creator, hook, views, sales)
- **Key Insight** statement interpreting the data

#### 8. Performance Predictions
- **Expected Best Performers** (rank all 3 scripts with reasoning)
- **Optimization Strategy** (week-by-week scaling plan)

#### 9. Content Production Notes
- **Visual Requirements** for each script (what to film)
- **Voiceover Style** (tone, delivery, language notes)

#### 10. Recommendations for Future Creatives
- **High Priority:** 3-4 immediate next steps
- **Medium Priority:** 3-4 testing opportunities
- **Testing Opportunities:** New angles, demographics, seasonal hooks

#### 11. Top Video Analysis Insights (if applicable)
From `video_analysis.md`:
- Winning hook patterns
- Visual elements that work
- Creator success factors

#### 12. Source Materials
List all reference files:
```markdown
- **Product Data:** `product_list/{product_id}/tabcut_data.md`
- **Video Analysis:** `product_list/{product_id}/video_analysis.md`
- **Product Images:** `product_list/{product_id}/product_images/`
- **Reference Videos:** `product_list/{product_id}/ref_video/`
```

#### 13. Compliance Notes
- **Health Claims Used (Safe):** List exact phrases used
- **Avoided Claims:** What was intentionally not said
- **Important Notes:** Category-specific warnings or disclaimers

#### 14. Footer
```markdown
---
*Campaign created: YYYY-MM-DD*
*Based on proven market performance: X sales, â‚¬X revenue, X% conversion*
*Scripts ready for production with ElevenLabs v3 (alpha) voiceover*
```

**Optional Additions:**
- **TOP PERFORMER** or **PRIORITY FOR SCALING** tags for high-performing products
- Portfolio comparison table (if creating multiple campaign summaries)
- Competitive analysis (if available)

**Example Summary File:** See `shorts_scripts/1729535917392698367/Campaign_Summary.md` for reference.

---

### Step 11: Final Quality Gate âš ï¸ MANDATORY CHECKPOINT

**ğŸ›‘ STOP: Do NOT mark this task as complete until ALL criteria below are verified.**

This is the **final verification checkpoint** before delivery. All previous steps may have been completed, but this gate ensures **nothing was missed**.

---

#### Deliverables Verification

**Run this command to verify all files exist:**

```bash
# Verify all required files for product {product_id}
ls -lh shorts_scripts/{product_id}/

# Expected output (4 files minimum):
# - Script_1.md (1.5-2.5KB typical size)
# - Script_2.md (1.5-2.5KB typical size)
# - Script_3.md (1.5-2.5KB typical size)
# - Campaign_Summary.md (15-25KB typical size)
```

**Verification Checklist:**

- [ ] **Script 1 file exists** at `shorts_scripts/{product_id}/{Product}_{Angle1}.md`
- [ ] **Script 2 file exists** at `shorts_scripts/{product_id}/{Product}_{Angle2}.md`
- [ ] **Script 3 file exists** at `shorts_scripts/{product_id}/{Product}_{Angle3}.md`
- [ ] **Campaign Summary exists** at `shorts_scripts/{product_id}/Campaign_Summary.md`

**ğŸš¨ CRITICAL:** If ANY file is missing, the task is **INCOMPLETE**. Do NOT proceed.

---

#### Content Quality Verification

**For EACH of the 3 scripts, verify:**

```bash
# Quick verification command
for file in shorts_scripts/{product_id}/*.md; do
  echo "=== $file ==="
  head -20 "$file" | grep -E "(cover:|caption:|duration:|product:|tags:)"
  echo "---"
done
```

**Script Quality Checklist (verify ALL 3 scripts):**

- [ ] **YAML frontmatter present** (starts with `---`)
- [ ] **Caption field populated** (not empty "")
- [ ] **Duration field valid** (format: "00:XX" between 00:30-00:50)
- [ ] **Exactly 5 tags** (count them - no more, no less)
- [ ] **Tags include hashtags in caption** (e.g., "Text #tag1 #tag2...")
- [ ] **Product name matches** official product name from tabcut_data.md
- [ ] **Source notes linked** to actual files used
- [ ] **ElevenLabs v3 marker present** (`> with ElevenLabs v3 (alpha) grammar`)
- [ ] **DE section exists** with voiceover cues
- [ ] **ZH section exists** with Chinese translation
- [ ] **Cue count reasonable** (6-8 cues per script, not 15+)
- [ ] **Word count appropriate** (~65-115 words for 30-40s duration)

**ğŸš¨ CRITICAL:** If ANY script fails these checks, **FIX IT** before proceeding.

---

#### Campaign Summary Verification

**Verify Campaign Summary completeness:**

```bash
# Check Campaign Summary structure
grep -E "^#{1,2} " shorts_scripts/{product_id}/Campaign_Summary.md
# Should show all 14 section headers
```

**Campaign Summary Checklist:**

- [ ] **Header metadata present** (YAML frontmatter with product_id, campaign_date, etc.)
- [ ] **Product Overview section** (features, USPs, use cases)
- [ ] **Campaign Strategy section** (psychological triggers, key insight)
- [ ] **Scripts Overview** (all 3 scripts with effectiveness ratings)
- [ ] **Audience Segmentation Table** (markdown table with segments)
- [ ] **Key Selling Points** (Rational/Emotional triggers, Trust signals)
- [ ] **Performance Data section** (actual sales, conversion rate from tabcut_data.md)
- [ ] **Performance Predictions** (ranked 1-3 with reasoning)
- [ ] **Content Production Notes** (visual requirements, VO style)
- [ ] **Recommendations section** (High/Medium priority, testing opportunities)
- [ ] **Source Materials listed** (all reference files)
- [ ] **Compliance Notes section** (safe claims, avoided claims)
- [ ] **Footer present** (campaign date, performance summary)
- [ ] **File size reasonable** (15-25KB typical - if <10KB, likely incomplete)

**ğŸš¨ CRITICAL:** Campaign Summary is NOT optional. If missing or incomplete, **CREATE/FIX IT** now.

---

#### Compliance Verification (Category-Specific)

**Health & Supplements Products:**
- [ ] No medical claims ("heilt", "behandelt", "therapiert", "garantiert")
- [ ] Only safe language ("kann unterstÃ¼tzen", "hilft dabei", "traditionell eingesetzt")
- [ ] Personal experience framing ("hab ich gefÃ¼hlt", "bei mir", "sah aus")
- [ ] All ingredient claims match official product description

**Electronics & Tech Products:**
- [ ] Technical specs accurate (match official listing)
- [ ] No exaggerated performance claims
- [ ] Safety certifications mentioned accurately

**Beauty & Skincare Products:**
- [ ] No medical/therapeutic claims
- [ ] Ingredient transparency maintained
- [ ] Observation language ("sieht aus", "spendet Feuchtigkeit")

**General Products:**
- [ ] Material/quality descriptions honest
- [ ] No unverified durability claims

---

#### Angle Differentiation Verification

**Verify scripts have DISTINCT angles (no overlap):**

```bash
# Quick check: read first 5 lines of each script's voiceover
grep -A 5 "### DE (ElevenLabs" shorts_scripts/{product_id}/*.md
```

**Angle Differentiation Checklist:**

- [ ] **Script 1 hook** is DIFFERENT from Script 2 and 3
- [ ] **Script 2 hook** is DIFFERENT from Script 1 and 3
- [ ] **Script 3 hook** is DIFFERENT from Script 1 and 2
- [ ] Each script targets **different psychological trigger** or **audience segment**
- [ ] No repetitive content across scripts (each angle is unique)

**Common Failure:** All 3 scripts sound the same with minor word changes. If this happens, **REWRITE** to create true differentiation.

---

#### Common Failure Modes - Check These

**ğŸ” Most Common Mistakes:**

1. **Missing Campaign Summary** â† Most frequent failure
   - Solution: Always create Step 10, never skip it

2. **Caption missing hashtags**
   - Wrong: `caption: "Great product"`
   - Correct: `caption: "Great product #tag1 #tag2 #tag3 #tag4 #tag5"`

3. **More or fewer than 5 tags**
   - Must be EXACTLY 5 tags in the tags array

4. **Scripts too long** (>40s / >115 words)
   - Count words, ensure 65-115 range for 30-40s

5. **Over-cued voiceover** (15+ cues)
   - Keep to 6-8 cues maximum per script

6. **Identical scripts with different filenames**
   - Each script must have distinct hook, angle, and content

7. **Chinese translation missing**
   - Every script needs both DE and ZH sections

8. **Compliance violations**
   - Health products: Check for medical claims
   - All products: Verify claims match official description

---

#### Final Verification Command

**Run this comprehensive check:**

```bash
cd /Users/lxt/Movies/TikTok/WZ/lukas_9688/shorts_scripts/{product_id}

echo "=== FILE COUNT CHECK ==="
file_count=$(ls -1 *.md | wc -l)
echo "Files found: $file_count (Expected: 4 minimum)"

echo -e "\n=== CAMPAIGN SUMMARY CHECK ==="
if [ -f "Campaign_Summary.md" ]; then
  size=$(ls -lh Campaign_Summary.md | awk '{print $5}')
  echo "âœ“ Campaign_Summary.md exists (Size: $size)"
else
  echo "âœ— MISSING: Campaign_Summary.md"
fi

echo -e "\n=== SCRIPT FILES CHECK ==="
ls -1 *.md | grep -v Campaign_Summary

echo -e "\n=== TAG COUNT VERIFICATION ==="
for file in *.md; do
  if [[ "$file" != "Campaign_Summary.md" ]]; then
    tag_count=$(grep -A 6 "^tags:" "$file" | grep "#" | wc -l)
    echo "$file: $tag_count tags (Expected: 5)"
  fi
done

echo -e "\n=== ELEVENLABS MARKER CHECK ==="
for file in *.md; do
  if [[ "$file" != "Campaign_Summary.md" ]]; then
    if grep -q "> with ElevenLabs v3 (alpha) grammar" "$file"; then
      echo "âœ“ $file has ElevenLabs marker"
    else
      echo "âœ— $file MISSING ElevenLabs marker"
    fi
  fi
done
```

---

#### PASS/FAIL Criteria

**âœ… PASS - Task Complete:**
- All 4 files exist (3 scripts + Campaign Summary)
- All scripts have valid YAML frontmatter
- All scripts have exactly 5 tags
- All scripts have both DE and ZH sections
- All scripts have ElevenLabs v3 marker
- Campaign Summary has all 14 sections
- No compliance violations detected
- Scripts have distinct angles (no overlap)

**âŒ FAIL - Task Incomplete:**
- ANY file missing
- ANY quality check failed
- ANY compliance violation present
- Scripts have overlapping/identical content
- Campaign Summary incomplete or missing

**If FAIL:** Do NOT mark task as complete. Fix issues immediately, then re-run verification.

**If PASS:** Task is complete and ready for production. Update todo list to mark as completed.

---

## Example Usage

### Input Request:

```
Product ID: 1729535919239371775
Category: Health & Supplements
Task: Create 3 TikTok ad scripts
```

### Workflow Execution:

1. **Read source materials:**
   - `product_list/1729535919239371775/video_analysis.md`
   - `product_list/1729535919239371775/tabcut_data.md`

2. **Analyze product images:**
   - Use Gemini MCP to analyze 7 product images
   - Extract visual hooks: Blue orchids, "7-Fach Komplex" badge, German quality seal
   - Extract specific German terms: "Beinschwellung", "Wassereinlagerungen"

3. **Verify official description:**
   - Cross-reference ingredient list (7-Fach Komplex confirmed)
   - Note certifications: Lab tested, GMP-zertifiziert, Made in Germany
   - Extract safe language patterns: "UnterstÃ¼tzt", "natÃ¼rliche Ausscheidung"

4. **Determine compliance category:** Health & Supplements (strict rules)

5. **Plan 3 angles:**
   - **Angle 1:** Problem-Solution (morning bloating)
   - **Angle 2:** Glow Up (face puffiness â†’ defined look)
   - **Angle 3:** Educational (Brennnessel tradition + modern science)

6. **Write scripts:**
   - `Brennnessel_Komplex_Bloating_Loesung.md` (38s)
   - `Brennnessel_Komplex_Glow_Up.md` (33s)
   - `Brennnessel_Komplex_Detox_Wellness.md` (40s)

7. **Add bilingual content:** DE + ZH for each

8. **Verify compliance:**
   - All scripts use "unterstÃ¼tzt", "kann helfen" (safe language)
   - No medical claims
   - Personal experience language only
   - All product details match official description

### Output:

```
shorts_scripts/1729535919239371775/
â”œâ”€â”€ Brennnessel_Komplex_Bloating_Loesung.md
â”œâ”€â”€ Brennnessel_Komplex_Glow_Up.md
â””â”€â”€ Brennnessel_Komplex_Detox_Wellness.md
```

**Result:** 3 production-ready TikTok scripts, fully compliant, bilingual, ready for ElevenLabs voice generation.

---

## Category-Specific Examples

### Health Product Script Pattern

```markdown
[soft] Kennst du das? Morgens aufgedunsenâ€¦
[curious] Das sind oft Wassereinlagerungen.
[bright] Ich hab das hier getestet: [Product].
[matter-of-fact] [Key ingredients/formula].
[soft] UnterstÃ¼tzt den KÃ¶rper dabei, [benefit].
[confident] [Trust signals: Lab tested, Made in Germany].
[warm] Nach ein paar Tagen hab ich mich [feeling] gefÃ¼hlt.
[firm] Link ist unten.
```

**Compliance:** "UnterstÃ¼tzt", "hab ich mich gefÃ¼hlt" (personal experience, not medical claim)

### Electronics Product Script Pattern

```markdown
[bright] TikTok hat die Preise gerade komplett verrÃ¼ckt gemacht.
[curious] Und ich musste das testen.
[firm] Das hier sind die [Product]: [Key feature].
[matter-of-fact] [Technical specs].
[soft] [User experience - how it feels/works].
[confident] [Standout feature or comparison].
[reflective] Was mich wirklich Ã¼berrascht hat: [unique benefit].
[firm] Link ist unten.
```

**Compliance:** Accurate specs, no exaggeration

### Beauty Product Script Pattern

```markdown
[reflective] Morgens in den Spiegel schauenâ€¦ und [problem].
[curious] Das [cause/reason].
[bright] Ich nehm seit kurzem [Product].
[matter-of-fact] [Key ingredients/formulation].
[soft] [How it supports/helps - not medical claim].
[warm] Nach ein paar Tagen sah [result] aus.
[confident] [Trust signals: vegan, dermatologically tested].
[firm] Link ist unten.
```

**Compliance:** "sah aus" (observation), no therapeutic claims

---

## Tips for Quality Scripts

### Visual Hook Integration

**Always reference specific visual elements from packaging:**
- "Mit den blauen Orchideen erkennst du es sofort" (Blue orchids)
- "Das 7-Fach Komplex Badge siehst du auf der Flasche" (7-Fach badge)
- "LaborgeprÃ¼ft-Siegel mit deutscher Flagge" (Lab tested seal)

### German Terminology from Packaging

**Use EXACT German terms from official product:**
- Don't invent terms - use what's on the label
- Preserve compound nouns: "Wassereinlagerungen", "Beinschwellung"
- Keep brand-specific language: "Patentierte Rezeptur", "Organische Kombination"

### Compliance Language Patterns

**Safe transition phrases:**
- "kann dabei helfen" (can help with)
- "unterstÃ¼tzt den KÃ¶rper" (supports the body)
- "traditionell eingesetzt fÃ¼r" (traditionally used for)
- "nach meiner Erfahrung" (in my experience)

**Avoid absolutes:**
- âŒ "Das funktioniert immer" (always works)
- âœ… "Das hat bei mir funktioniert" (worked for me)

### Target Audience Specificity

**Reference use cases from official description:**
- "FÃ¼r BÃ¼roangestellte mit schweren Beinen" (office workers)
- "FÃ¼r Sportler nach dem Training" (athletes)
- "FÃ¼r alle Lebensphasen" (all life stages)

---

## Common Issues and Solutions

### Issue 1: Scripts Too Long (>40s)

**Cause:** Too many features listed, verbose language

**Solution:**
- Cut 1 feature
- Use shorter sentences
- Remove filler words
- One idea per line

### Issue 2: Scripts Sound Robotic

**Cause:** Too many cues, no human beats

**Solution:**
- Reduce cues to 6-8 total
- Add 1-2 reactions: "Ganz kurz.", "Pass auf.", "Das war's."
- Use self-corrections: "Alsoâ€”nicht das. Das hier."

### Issue 3: Compliance Violations

**Cause:** Using language from reference videos without verification

**Solution:**
- ALWAYS cross-reference with official product description
- If official description doesn't claim it, don't say it
- Use safe transition language: "kann unterstÃ¼tzen" instead of "wirkt gegen"

### Issue 4: Missing Visual Hooks

**Cause:** Not analyzing product images

**Solution:**
- Always run Gemini MCP analysis on product images
- Extract distinctive design elements
- Use specific German text from packaging
- Reference certifications visible on label

---

## Quality Gates

### Definition of Done

**ğŸ›‘ MANDATORY:** Complete Step 11 (Final Quality Gate) before marking task as done.

**Step 11 automatically verifies:**

- [ ] All 4 files exist (3 scripts + Campaign Summary)
- [ ] All scripts have valid YAML frontmatter
- [ ] All scripts have exactly 5 tags
- [ ] Tags are included in caption field with hashtags
- [ ] All scripts have both DE and ZH sections
- [ ] All scripts have ElevenLabs v3 marker
- [ ] Campaign Summary has all 14 required sections
- [ ] Campaign Summary file size is reasonable (15-25KB)
- [ ] No compliance violations detected
- [ ] Scripts have distinct angles (no overlap)
- [ ] Word count appropriate (65-115 words per script)
- [ ] Duration estimates realistic (30-40s)
- [ ] Source notes correctly linked
- [ ] Visual hooks integrated (if images available)
- [ ] Trust signals accurate
- [ ] Category-specific compliance rules followed

**How to verify:** Run the Final Verification Command from Step 11.

**If ANY check fails:** Fix immediately, do NOT mark as complete.

---

## Version History

**v1.4.3** (2025-12-31) - **OUTPUT VALIDATION REQUIREMENT**
- **CRITICAL ADDITION:** Output Validation & Quality Check section after Step 2
- **Mandatory verification:** Must check image analysis output before proceeding
- **PASS/FAIL criteria:** Clear checklist (150+ lines, all 6 parts, bilingual, synthesized)
- **Verification command:** Bash script to automatically check output quality
- **Retry instructions:** If output fails, explicit template to retry with complete requirements
- **Why this matters:** Prevents proceeding with incomplete/generic image analysis (user reported issue: some analyses were concise with no translation)
- **Quality gate:** Do NOT proceed to script writing if image analysis fails validation
- **Example comparison:** Good example (362 lines, bilingual, synthesized) vs Bad example (44 lines, no Chinese, no synthesis)
- **Enforcement:** Added "ğŸš¨ CRITICAL: Do NOT proceed to script writing with failed image analysis"

**v1.4.2** (2025-12-31) - **IMAGE ANALYSIS ENHANCEMENT (Bilingual + Synthesized)**
- **CRITICAL IMPROVEMENT:** Complete rewrite of image analysis prompt template
- **New bilingual format:** German (Parts 1-3) + Chinese (Parts 4-6) - MANDATORY
- **Synthesized insights:** Part 2 (DE) and Part 5 (ZH) provide actionable script elements
- **6-Part structure:**
  - Part 1/4: Visual Intelligence (DE/ZH) - raw observations
  - Part 2/5: Synthesized Script Elements (DE/ZH) - hook ideas, core features, trust signals
  - Part 3/6: Compliance Check (DE/ZH) - safe vs problematic claims
- **Script-ready outputs:**
  - "FÃ¼r Hook (Erste 3 Sekunden)" - ready-to-use hook formulations
  - "FÃ¼r Produktvorstellung" - core features with exact German terms
  - "FÃ¼r Trust-Building" - compliance-safe trust signals
  - "FÃ¼r CTA" - visual recognition elements
- **Exact German text requirement:** Copy verbatim from packaging (critical for compliance)
- **Good vs Bad examples:** Added comparison showing generic vs synthesized analysis
- **Why this matters:** Previous image analysis was too generic/descriptive; new format provides actionable data directly usable in script writing
- **Token efficiency:** Structured format reduces back-and-forth, one analysis provides everything needed

**v1.4.1** (2025-12-31) - **BATCH EXECUTION CLARITY UPDATE**
- **CRITICAL ADDITION:** Batch Execution Checklist section (lines 59-163)
- **Enhanced workflow steps** with explicit mandatory markers (âš ï¸)
- **New pre-execution setup** commands to verify source materials
- **Per-product execution order** with stop points at mandatory steps
- **Common batch failure modes** documented with fixes:
  - Skipping image analysis (Mistake #1)
  - Forgetting Campaign Summary (Mistake #2 - most common)
  - Skipping Final Quality Gate (Mistake #3)
  - Batch processing too fast (Mistake #4)
- **Batch verification command** to check completeness after processing N products
- **Step 2 enhancement:** Added critical check to verify if images exist before proceeding
- **Why this matters:** Prevents incomplete deliverables in batch workflows
- **Target issue:** Image analysis and Campaign Summary frequently missed in batch mode

**v1.4.0** (2025-12-31) - **STABILITY RELEASE**
- **MAJOR FEATURE:** Added Step 11 - Final Quality Gate (Mandatory Verification Checkpoint)
- **Why this matters:** Prevents incomplete deliverables (missing Campaign Summary was #1 failure mode)
- **What it includes:**
  - Deliverables verification (all 4 files must exist)
  - Content quality verification (YAML, tags, cues, word count)
  - Campaign Summary completeness check (all 14 sections)
  - Category-specific compliance verification
  - Angle differentiation verification (no script overlap)
  - Common failure modes checklist (8 most frequent mistakes)
  - Final verification command (automated bash check)
  - Clear PASS/FAIL criteria (cannot mark complete until all pass)
- **Added workflow steps overview** at beginning (all 11 steps listed)
- **Updated Quality Gates section** to reference Step 11
- **Critical requirement:** Step 11 CANNOT be skipped - enforced with ğŸ›‘ warnings

**v1.3.1** (2025-12-31)
- **PERFORMANCE OPTIMIZATION:** Updated Step 2 (Product Image Analysis) to use Async Gemini CLI MCP
- **Benefits:**
  - Parallel execution for batch workflows (analyze multiple products simultaneously)
  - Token-efficient (doesn't consume Claude Code context)
  - Faster processing with async background execution
  - Better suited for automated e2e workflows
- **Tool Change:** `mcp__gemini-cli-mcp-async__gemini_cli_execute` replaces Claude Read tool for image analysis
- Added example usage for both synchronous and asynchronous workflows
- Added recommendation to save analysis to `image_analysis.md` for reference

**v1.3.0** (2025-12-27)
- **MAJOR FEATURE:** Added Step 5.5 - Golden 3 Seconds Hook Patterns
- **8 Proven Hook Types** for German TikTok market with implementation examples:
  1. Urgency Type (highest retention)
  2. Pain Point Resonance Type (most stable)
  3. Counter-Intuitive Type (strong curiosity)
  4. Documentary Type (safest for organic reach)
  5. Wrong Demonstration Type (high retention)
  6. Result-First Type (direct conversion)
  7. Emotional Whisper Type (Germany special - understated delivery)
  8. Visual-First Type (no voiceover needed)
- **Hook Selection Strategy** by product category (supplements, deals, tools, beauty)
- **German Market Insights** integrated throughout (e.g., low emotion delivery, documentary authenticity)
- Updated description to highlight Golden 3 Seconds methodology

**v1.2.0** (2025-12-27)
- **NEW FEATURE:** Added Step 10 - Campaign Summary creation
- **Campaign Summary includes:**
  - Strategic overview of all 3 scripts as unified campaign
  - Performance data analysis and predictions
  - Audience segmentation matrix
  - Content production notes and recommendations
  - Future creative optimization strategies
- **Purpose:** Serves as production brief and enables data-driven decisions
- Updated description to reflect comprehensive campaign output

**v1.1.0** (2025-12-27)
- **CRITICAL FIX:** Added video analysis verification step
- **Gemini MCP limitation documented:** Cannot directly access local video files
- **New workflow:** Direct gemini-cli or frame extraction for accurate video analysis
- **Caption format updated:** Hashtags now included in caption field for TikTok
- Added red flags checklist for identifying hallucinated analysis
- Added local video file verification (user may curate ref_video folder)

**v1.0.0** (2025-12-26)
- Initial release
- Generalized from health product workflow
- Added category-specific compliance rules (Health, Electronics, Beauty, General)
- Integrated product image analysis step
- Added official description verification step
- Bilingual output (DE/ZH) as standard
- ElevenLabs v3 (alpha) grammar integration
